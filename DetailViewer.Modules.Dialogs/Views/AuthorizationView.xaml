<UserControl x:Class="DetailViewer.Modules.Dialogs.Views.AuthorizationView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:DetailViewer.Modules.Dialogs.Views"
             xmlns:prism="http://prismlibrary.com/"
             prism:ViewModelLocator.AutoWireViewModel="True"
             mc:Ignorable="d" 
             Width="500" Height="600"
             d:DesignHeight="500" d:DesignWidth="500">
    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/DetailViewer;component/ModernStyles.xaml" />
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </UserControl.Resources>
    <Grid Background="{StaticResource BackgroundLightBrush}">
        <TabControl SelectedIndex="{Binding SelectedTabIndex}">
            <TabItem Header="Вход">
                <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center" Width="300">
                    <Path Data="M12,17C10.89,17 10,16.1 10,15C10,13.89 10.89,13 12,13A2,2 0 0,1 14,15A2,2 0 0,1 12,17M18,8V6A6,6 0 0,0 6,6V8H4V20H20V8H18M8,6A4,4 0 0,1 16,6V8H8V6Z" 
                          Fill="{StaticResource PrimaryAccentBrush}" 
                          Stretch="Uniform" 
                          Width="80" Height="80" 
                          Margin="0,20,0,10"/>
                    <TextBlock Text="Авторизация" 
                               FontFamily="Segoe UI Light" 
                               FontSize="22" 
                               HorizontalAlignment="Center" 
                               Margin="0,0,0,20"/>
                    
                    <TextBlock Text="Пользователь:" Margin="0,10,0,5"/>
                    <ComboBox ItemsSource="{Binding Profiles}" SelectedItem="{Binding SelectedProfile}" DisplayMemberPath="FullName" Margin="0,0,0,10"/>
                    <TextBlock Text="Пароль:" Margin="0,10,0,5"/>
                    <TextBox Text="{Binding Password, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,0,20"/>
                    <Button Content="Войти" Command="{Binding AuthorizeCommand}" Style="{StaticResource PrimaryButtonStyle}" Margin="5"/>
                    <TextBlock Text="{Binding StatusMessage}" Foreground="Red" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                </StackPanel>
            </TabItem>
            <TabItem Header="Регистрация">
                <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center" Width="300">
                    <Path Data="M15,12C12.24,12 10,9.76 10,7C10,4.24 12.24,2 15,2C17.76,2 20,4.24 20,7C20,9.76 17.76,12 15,12M5,14V17H2V19H5V22H7V19H10V17H7V14H5M15,14C18.33,14 23,15.67 23,17V20H7V17C7,15.67 11.67,14 15,14Z" 
                          Fill="{StaticResource PrimaryAccentBrush}" 
                          Stretch="Uniform" 
                          Width="80" Height="80" 
                          Margin="0,20,0,10"/>
                    <TextBlock Text="Регистрация" 
                               FontFamily="Segoe UI Light" 
                               FontSize="22" 
                               HorizontalAlignment="Center" 
                               Margin="0,0,0,20"/>

                    <TextBlock Text="Фамилия:" Margin="0,10,0,5"/>
                    <TextBox Text="{Binding NewLastName}" Margin="0,0,0,10"/>
                    <TextBlock Text="Имя:" Margin="0,10,0,5"/>
                    <TextBox Text="{Binding NewFirstName}" Margin="0,0,0,10"/>
                    <TextBlock Text="Отчество:" Margin="0,10,0,5"/>
                    <TextBox Text="{Binding NewMiddleName}" Margin="0,0,0,10"/>
                    <TextBlock Text="Пароль:" Margin="0,10,0,5"/>
                    <TextBox Text="{Binding NewPassword}" Margin="0,0,0,20"/>
                    <Button Content="Зарегистрироваться" Command="{Binding RegisterCommand}" Style="{StaticResource PrimaryButtonStyle}" Margin="5"/>
                </StackPanel>
            </TabItem>
        </TabControl>
    </Grid>
</UserControl>